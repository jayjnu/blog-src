---
title: 11월 3째주 프론트엔드 이슈
date: 2017-11-19 18:24:02
categories:
- Weekly
tags:
- npm
- VSCode
- Matter.js
- tips
- release
- workflow
---


## 1. [NPM 디펜던시 최적화](https://medium.com/@vovabilonenko/making-node-modules-smaller-and-faster-2199a7bbf5b3)

노드환경에서 개발을 하다보면 별거아닌 디펜던시에도 수많은 패키지가 딸려오는 것을 볼 수 있다. 로컬개발이라면 별 문제가 안되겠지만, 리모트 서버에서 빌드를 하는 상황이라면 너무 많은 디펜던시는 생산성에 문제를 줄 수 있다.

개발자들은 다음의 두가지 베스트 프랙티스를 따라야 한다.
1. [추이 종속성 (transitive dependency)](http://terms.naver.com/entry.nhn?docId=859503&cid=42346&categoryId=42346)를 포함한 의존성을 확인한다.
2. 코드를 합리적으로 재사용한다.


추이종속성 체크는 npm이 자체적으로 지원하지 않기에 아래의 툴 중 하나를 사용해야한다.

- [Webpack Visualizer](http://chrisbateman.github.io/webpack-visualizer/)
- [cost-of-modules](https://github.com/siddharthkp/cost-of-modules) cli
- [https://bundlephobia.com](https://bundlephobia.com)
- [http://npm.anvaka.com/](http://npm.anvaka.com/ )
 
 
### 툴을 사용해도 여전히 이것 저것 깔려있는 node_modules 폴더
추이종속성 검사가 모든 것을 해결해주진 않는다. 현재로서는 필요없는 패키지는 깔지 않도록 개발자가 주의하는 것이 최선이다.

```npm install```을 대신하여 ```npm-consider install``` 을 사용해보자.

더욱 자세한 것은 본문 링크에 있다. 

### 결론

- 의존성 검사 툴을 사용하자
- 합리적으로 코드를 재사용하자: 단 하나의 파일만 필요하다면 그냥 복사 붙여넣기를 사용하자 (함께 딸려오는 77개의 패키지까지 내려받지 말자)
- 디펜던시의 용량에대한 규칙을 강제하고 CI 스크립트에 포함시키자
 

## 2. [VsCode Live Share](https://code.visualstudio.com/visual-studio-live-share)

VS코드가 협업에 사용할 수 있는 실시간 코드 공유 기능을 출시할 예정이다. 공식 페이지의 설명에 따르면 라이브 코드 공유는 아래와 같은 이점을 제공한다

### 클론, 카피 또는 어떤 설정도 필요없이 프로젝트의 모든 코드를 공유
코드 스니펫과 에러메세지 만으로는 팀원에게 정확한 맥락을 알려주기 어렵다. 라이브 코드 공유기능을 이용하면 어떤 사전 설정도 필요없이 팀원이 코드의 전체 모습을 원격에서 확인할 수 있다.

### 프로젝트 전체 코드 공유
전체 코드 컨텍스트가 공유되며 팀원은 공유된 코드에 대해 Code Peek이나 Go to Definition을 사용할 수 있다.
코드를 수정할때 프로젝트 컨텍스트를 반영한 intelliSense와 같은 서제스트 툴도 동일하게 사용할 수 있다.

### 협업 디버깅
실시간 코드공유 세션에 있는 팀원은 디버깅 세션을 공유한다. 모든 팀원은 독자적으로 오프젝트를 검사할 수 있고, 값도 수정할 수 있다.
수정이 필요하면 에디터에서 코드를 바로 수정하면 되고, 팀원은 수정사항을 실시간으로 각자의 에디터에서 보게 된다.


## 3. [Javascript. The Core: 2nd Edition](http://dmitrysoshnikov.com/ecmascript/javascript-the-core-2nd-edition/)

자바스크립트 코어를 잘 설명해주는 강좌의 2판이 나왔다.
ES6를 기반으로 스코프, 프로토타입, 클래스, 클로져등의 개념을 심도있게 설명해준다.

## 4. [Matter.js: 자바스크립트 물리엔진](http://brm.io/matter-js/index.html)
자바스크립트에도 2D 물리엔진을 간단히 적용할 수 있게 해주는 라이브러리가 필요하다면 matter.js 를 사용해보자


## 5. [실용적인 라이브러리 배포 팁](https://blog.algolia.com/pragmatic-releasing/)

원문에서는 하나의 완벽한 가이드라기보다는, npm 라이브러리를 운영해보며 알게된 팁 정도로 봐주란다.

만약 아래의 조건에 해당한다면 배포 프로세스를 다시 정립해볼 필요가 있다고 소개한다.
- 배포전에 기능을 일괄 처리하려는(batch) 경향이 있다.
- 적용해야될 것이 있가면 결국 해야될걸 알면서도 오래까지 끌다가 하는 성향이 있다.
- 배포할때만 되면 스트레스를 받는다.
- 배포할바에는 코드에 버그를 남겨놓는 편이 편하다.
- 해야만 하는 상황에만 배포를 하려고하며, 이때 기분이 언짢다. 


### 1. 배포를 한사람에게 맡기지 말자.

- 배포담당이 부재중인데 릴리즈를 빠르게 롤백해야 한다면?
- 다른사람에게는 해당 배포담당이 가지고있는 npm 레지스트리에대한 권한이 없다면?

### 2. 자동화가 답이다.
배포시마다 수동으로 버전업을 한다는 것은 추후 배포에 버전 올리는 것을 깜빡 했을 시 상상할수없는 버그를 야기할 수 있다.
가장 좋은 방법은 자동화 가능한 부분은 자동화 하도록 하는 것이고, 그것은 한줄의 커맨드라인으로 끝낼 수 있어야한다.

### 3. 배포는 빠르게 진행돼야 한다.
이부분은 굳이 번역+요약을 안해도 많은 분들이 공감하리라 믿으므로 생략한다. 원하면 본문을 참고

### 4. 코드에 확신을 가져라
- 코드는 당연히 충분히 테스트하고 배포해야한다.
- 그러나 다른 기능에 영향이 없다면 unstable한(work in progress) 기능도 함께 배포하는것도 좋다고 생각한다.
 

### 5. 현재 배포 프로세스를 개선하기위한 몇가지 아이디어
- 다음 배포는 다른사람에게 시켜보자
- 이터레이션을 빠르게, 디플로이를 더 자주하자


### 6. 주기적인 배포의 장점

- 정신건강에 도움이된다.
- 생산성이 증가한다.
- 대응력이 좋아진다.

### 7. 더 나은 배포 프로세스를 위한 방법론

- [Conventional Commits](https://conventionalcommits.org)를 사용하라
- 배포용 PR script를 작성하자 (배포전 체크리스트를 알아서 검사해주는)
- 배포용 스크립트를 손수 작성하자 (버전 태깅 등을 자동화해주는)
- 만일 CI를 쓴다면 자동으로 배포용 스크립트도 자동화하는 스크립트를 작성하자
